{% extends 'base.jinja2' %}

{% block header %}
  <h1 class="mb-2">{% block title %}Search Results for <b>{{query}}</b> {% endblock %}</h1>
{% endblock %}

{% block content %}
  <div class="p-4">
  {% if false %}<div id="did-you-mean">DYM goes here</div>{% endif %}
  {% if display_filters%}
    <div id="applied-filters">{% include 'display_filters.jinja2' %}</div>
  {% endif %}
  {% if search_response and search_response.hits%}
    <div>
      <div id="search-meta-container">Your query of <b>{{ query }}</b> returned {{ "{:,d}".format(search_response.hits.total.value) }} hits in {{ search_response.took }} ms.</div>
      <div class="grid grid-cols-12">
        {% if true%}
          <div class="col-span-3">{% include 'aggregations.jinja2' %}</div>
        {% endif %}
        <div class="col-span-9">{% include 'display_results.jinja2' %}</div>
      </div>
      <div id="debug">{% include 'debug.jinja2' %}</div>
    </div>
  {% else %}
    <div id="all-results">
      <div id="aggregations-container">No response results to aggregate!</div>
      <div id="search-results-container">If you are seeing this, you haven't returned a valid search response object yet. Be sure to implement opensearch.py and search.py appropriately.</div>
    </div>
  {% endif %}
  </div>
{% endblock %}